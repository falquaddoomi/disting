{% extends "base.html" %}

{% block childpagename %}Add New Job{% endblock %}

{% block style %}
    <style>
    #matrix_holder td { text-align: center; vertical-align: top; }

    #matrix_holder, #graphmodel {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    #matrix_holder label.unselected { color: #aaa; }
    </style>
{% endblock %}

{% block script %}
    <script type="text/javascript" language="JavaScript" src="{{ STATIC_URL }}js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" language="JavaScript" src="{{ STATIC_URL }}js/springy.js"></script>
    <script type="text/javascript" language="JavaScript" src="{{ STATIC_URL }}js/springyui.js"></script>

    <script type="text/javascript" language="JavaScript" src="{{ STATIC_URL }}interface/js/equation_editor.js"></script>

    <script type="text/javascript" language="JavaScript">
    $(document).ready(function() {
        // populate nodecount dropdown
        for (var i = 2; i <= 15; i++) {
            $("<option />")
                .attr('value', i)
                .text(i)
                .appendTo("#nodecount");
        }

        $("#nodecount").change(function() {
            buildMatrix($(this).val(), "#graphbox", "#matrix_holder");
        });

        // and invoke it to build the initial matrix
        $("#nodecount").change();
    })
    </script>
{% endblock %}

{% block content %}
    <p>Enter the description of your input problem in the fields below.</p>

    <form method="POST" action="{% url 'interface:addjob_alt' %}">
        {% csrf_token %}
        <div id="input_pane">
            <div id="eqn_graph_box">
                <div id="equationbox">
                    <div>
                        <b>Number of Nodes:</b>
                        <select id="nodecount" name="nodecount"></select>
                    </div>

                    <table id="matrix_holder"></table>
                </div>

                <div id="graphbox">
                </div>
            </div>

            <div id="action_tray">
                <input type="submit" style="width: 100px;" class="button icon add" name="sub" value="Submit Job" />
                <input type="button" style="width: 100px; margin-left: 2px;" class="button icon reload" onclick="parent.location = '{% url 'interface:home' %}'" value="Cancel" />
            </div>
        </div>
    </form>
{% endblock %}